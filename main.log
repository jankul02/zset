{"level":"info","ts":1632562819.4566977,"logger":"cmd","msg":"Version","Go Version":"go1.16.8","GOOS":"linux","GOARCH":"amd64","ansible-operator":"v1.11.0","commit":"28dcd12a776d8a8ff597e1d8527b08792e7312fd"}
{"level":"info","ts":1632562819.4568932,"logger":"cmd","msg":"Watch namespaces not configured by environment variable WATCH_NAMESPACE or file. Watching all namespaces.","Namespace":""}
{"level":"info","ts":1632562819.9729576,"logger":"controller-runtime.metrics","msg":"metrics server is starting to listen","addr":"127.0.0.1:8080"}
{"level":"info","ts":1632562819.974323,"logger":"watches","msg":"Environment variable not set; using default value","envVar":"ANSIBLE_VERBOSITY_ZOOKEEPERSET_DATAPROXY_JANKUL02","default":2}
{"level":"info","ts":1632562819.974517,"logger":"cmd","msg":"Environment variable not set; using default value","Namespace":"","envVar":"ANSIBLE_DEBUG_LOGS","ANSIBLE_DEBUG_LOGS":false}
{"level":"info","ts":1632562819.9745417,"logger":"ansible-controller","msg":"Watching resource","Options.Group":"dataproxy.jankul02","Options.Version":"v1alpha1","Options.Kind":"ZookeeperSet"}
{"level":"info","ts":1632562819.97651,"logger":"proxy","msg":"Starting to serve","Address":"127.0.0.1:8888"}
I0925 09:40:19.977204       8 leaderelection.go:243] attempting to acquire leader lease zookeeperset-system/zookeeperset...
{"level":"info","ts":1632562819.9776883,"logger":"controller-runtime.manager","msg":"starting metrics server","path":"/metrics"}
I0925 09:40:19.998029       8 leaderelection.go:253] successfully acquired lease zookeeperset-system/zookeeperset
{"level":"info","ts":1632562819.998682,"logger":"controller-runtime.manager.controller.zookeeperset-controller","msg":"Starting EventSource","source":"kind source: dataproxy.jankul02/v1alpha1, Kind=ZookeeperSet"}
{"level":"info","ts":1632562819.9988172,"logger":"controller-runtime.manager.controller.zookeeperset-controller","msg":"Starting Controller"}
{"level":"info","ts":1632562820.0998142,"logger":"controller-runtime.manager.controller.zookeeperset-controller","msg":"Starting workers","worker count":3}

--------------------------- Ansible Task StdOut -------------------------------

TASK [zookeeperset : define zk pod presets] ************************************
task path: /opt/ansible/roles/zookeeperset/tasks/main.yml:1

-------------------------------------------------------------------------------
{"level":"info","ts":1632562868.5649893,"logger":"logging_event_handler","msg":"[playbook task start]","name":"zookeeperset-lab","namespace":"default","gvk":"dataproxy.jankul02/v1alpha1, Kind=ZookeeperSet","event_type":"playbook_on_task_start","job":"2400108892231527848","EventData.Name":"zookeeperset : define zk pod presets"}
{"level":"info","ts":1632562869.9832108,"logger":"proxy","msg":"Cache miss: redhatcop.redhat.io/v1alpha1, Kind=PodPreset, default/zk-0"}
{"level":"info","ts":1632562869.9944859,"logger":"proxy","msg":"Injecting owner reference"}
{"level":"info","ts":1632562869.9965193,"logger":"proxy","msg":"Watching child resource","kind":"redhatcop.redhat.io/v1alpha1, Kind=PodPreset","enqueue_kind":"dataproxy.jankul02/v1alpha1, Kind=ZookeeperSet"}
{"level":"info","ts":1632562869.9966145,"logger":"controller-runtime.manager.controller.zookeeperset-controller","msg":"Starting EventSource","source":"kind source: redhatcop.redhat.io/v1alpha1, Kind=PodPreset"}
{"level":"info","ts":1632562870.5693245,"logger":"proxy","msg":"Cache miss: redhatcop.redhat.io/v1alpha1, Kind=PodPreset, default/zk-1"}
{"level":"info","ts":1632562870.5721943,"logger":"proxy","msg":"Injecting owner reference"}

--------------------------- Ansible Task StdOut -------------------------------

 TASK [define zk pod presets] ******************************** 
changed: [localhost] => (item={'id': '1', 'nodeSelector': {'updateOnChange': [{'kind': 'Secret', 'name': 'keystore-zk-1'}], 'zkinstanceid': '1'}, 'spec': {'env': [{'name': 'ZOOKEEPER_SSL_QUORUM_TRUSTSTORE_PASSWORD', 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-1'}}}, {'name': 'ZOOKEEPER_SSL_KEYSTORE_PASSWORD', 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-1'}}}, {'name': 'ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD', 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-1'}}}], 'volumeMounts': [{'mountPath': '/mnt', 'name': 'keystore'}], 'volumes': [{'name': 'keystore', 'secret': {'secretName': 'keystore-zk-1'}}]}}) => {"ansible_loop_var": "item", "changed": true, "item": {"id": "1", "nodeSelector": {"updateOnChange": [{"kind": "Secret", "name": "keystore-zk-1"}], "zkinstanceid": "1"}, "spec": {"env": [{"name": "ZOOKEEPER_SSL_QUORUM_TRUSTSTORE_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "keystorepassword", "name": "keystorepasswd-zk-1"}}}, {"name": "ZOOKEEPER_SSL_KEYSTORE_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "keystorepassword", "name": "keystorepasswd-zk-1"}}}, {"name": "ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "keystorepassword", "name": "keystorepasswd-zk-1"}}}], "volumeMounts": [{"mountPath": "/mnt", "name": "keystore"}], "volumes": [{"name": "keystore", "secret": {"secretName": "keystore-zk-1"}}]}}, "method": "create", "result": {"apiVersion": "redhatcop.redhat.io/v1alpha1", "kind": "PodPreset", "metadata": {"creationTimestamp": "2021-09-25T09:41:10Z", "generation": 1, "managedFields": [{"apiVersion": "redhatcop.redhat.io/v1alpha1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:ownerReferences": {".": {}, "k:{\"uid\":\"b257251f-0467-4721-b5be-fce8794ec1e5\"}": {}}}, "f:spec": {".": {}, "f:env": {}, "f:selector": {".": {}, "f:matchLabels": {".": {}, "f:app": {}, "f:podnamerequired": {}}}, "f:volumeMounts": {}, "f:volumes": {}}}, "manager": "OpenAPI-Generator", "operation": "Update", "time": "2021-09-25T09:41:10Z"}], "name": "zk-1", "namespace": "default", "ownerReferences": [{"apiVersion": "dataproxy.jankul02/v1alpha1", "kind": "ZookeeperSet", "name": "zookeeperset-lab", "uid": "b257251f-0467-4721-b5be-fce8794ec1e5"}], "resourceVersion": "454456", "uid": "0dd133fd-dad2-4560-80ad-baa3bf2aa99c"}, "spec": {"env": [{"name": "ZOOKEEPER_SSL_QUORUM_TRUSTSTORE_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "keystorepassword", "name": "keystorepasswd-zk-1"}}}, {"name": "ZOOKEEPER_SSL_KEYSTORE_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "keystorepassword", "name": "keystorepasswd-zk-1"}}}, {"name": "ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "keystorepassword", "name": "keystorepasswd-zk-1"}}}, {"name": "WELCOME_MESSAGE", "value": "The generic Hello World from zookeeper"}, {"name": "ZOOKEEPER_TOOLS_LOG4J_LOGLEVEL", "value": "DEBUG"}, {"name": "ZOOKEEPER_LOG4J_ROOT_LOGLEVEL", "value": "DEBUG"}, {"name": "ZOOKEEPER_CLIENT_PORT", "value": "2181"}, {"name": "ZOOKEEPER_TICK_TIME", "value": "2000"}, {"name": "ZOOKEEPER_SECURE_CLIENT_PORT", "value": "2182"}, {"name": "ZOOKEEPER_SERVER_CNXN_FACTORY", "value": "org.apache.zookeeper.server.NettyServerCnxnFactory"}, {"name": "ZOOKEEPER_SSL_KEYSTORE_LOCATION", "value": "/mnt/keystore.jks"}, {"name": "ZOOKEEPER_SSL_KEYSTORE_TYPE", "value": "JKS"}, {"name": "ZOOKEEPER_SSL_TRUSTSTORE_LOCATION", "value": "/mnt/truststore.jks"}, {"name": "ZOOKEEPER_SSL_TRUSTSTORE_TYPE", "value": "JKS"}, {"name": "ZOOKEEPER_CLIENT_PORT_UNIFICATION", "value": "true"}, {"name": "ZOOKEEPER_SSL_CLIENT_AUTH", "value": "none"}, {"name": "ZOOKEEPER_AUTH_PROVIDER_X509", "value": "org.apache.zookeeper.server.auth.X509AuthenticationProvider"}, {"name": "ZOOKEEPER_AUTH_PROVIDER_SASL", "value": "org.apache.zookeeper.server.auth.SASLAuthenticationProvider"}], "selector": {"matchLabels": {"app": "zk", "podnamerequired": "zk-1"}}, "volumeMounts": [{"mountPath": "/mnt", "name": "keystore"}], "volumes": [{"name": "keystore", "secret": {"secretName": "keystore-zk-1"}}]}}}

-------------------------------------------------------------------------------
{"level":"info","ts":1632562871.103747,"logger":"proxy","msg":"Cache miss: redhatcop.redhat.io/v1alpha1, Kind=PodPreset, default/zk-2"}
{"level":"info","ts":1632562871.1064153,"logger":"proxy","msg":"Injecting owner reference"}

--------------------------- Ansible Task StdOut -------------------------------

 TASK [define zk pod presets] ******************************** 
changed: [localhost] => (item={'id': '2', 'nodeSelector': {'updateOnChange': [{'kind': 'Secret', 'name': 'keystore-zk-2'}], 'zkinstanceid': '2'}, 'spec': {'env': [{'name': 'WELCOME_MESSAGE', 'value': 'HW from zk 2'}, {'name': 'ZOOKEEPER_SSL_QUORUM_TRUSTSTORE_PASSWORD', 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-2'}}}, {'name': 'ZOOKEEPER_SSL_KEYSTORE_PASSWORD', 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-2'}}}, {'name': 'ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD', 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-2'}}}], 'volumeMounts': [{'mountPath': '/mnt', 'name': 'keystore'}], 'volumes': [{'name': 'keystore', 'secret': {'secretName': 'keystore-zk-2'}}]}}) => {"ansible_loop_var": "item", "changed": true, "item": {"id": "2", "nodeSelector": {"updateOnChange": [{"kind": "Secret", "name": "keystore-zk-2"}], "zkinstanceid": "2"}, "spec": {"env": [{"name": "WELCOME_MESSAGE", "value": "HW from zk 2"}, {"name": "ZOOKEEPER_SSL_QUORUM_TRUSTSTORE_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "keystorepassword", "name": "keystorepasswd-zk-2"}}}, {"name": "ZOOKEEPER_SSL_KEYSTORE_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "keystorepassword", "name": "keystorepasswd-zk-2"}}}, {"name": "ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "keystorepassword", "name": "keystorepasswd-zk-2"}}}], "volumeMounts": [{"mountPath": "/mnt", "name": "keystore"}], "volumes": [{"name": "keystore", "secret": {"secretName": "keystore-zk-2"}}]}}, "method": "create", "result": {"apiVersion": "redhatcop.redhat.io/v1alpha1", "kind": "PodPreset", "metadata": {"creationTimestamp": "2021-09-25T09:41:11Z", "generation": 1, "managedFields": [{"apiVersion": "redhatcop.redhat.io/v1alpha1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:ownerReferences": {".": {}, "k:{\"uid\":\"b257251f-0467-4721-b5be-fce8794ec1e5\"}": {}}}, "f:spec": {".": {}, "f:env": {}, "f:selector": {".": {}, "f:matchLabels": {".": {}, "f:app": {}, "f:podnamerequired": {}}}, "f:volumeMounts": {}, "f:volumes": {}}}, "manager": "OpenAPI-Generator", "operation": "Update", "time": "2021-09-25T09:41:11Z"}], "name": "zk-2", "namespace": "default", "ownerReferences": [{"apiVersion": "dataproxy.jankul02/v1alpha1", "kind": "ZookeeperSet", "name": "zookeeperset-lab", "uid": "b257251f-0467-4721-b5be-fce8794ec1e5"}], "resourceVersion": "454457", "uid": "72818481-8d54-4c22-95b5-9cc39995ccd7"}, "spec": {"env": [{"name": "WELCOME_MESSAGE", "value": "HW from zk 2"}, {"name": "ZOOKEEPER_SSL_QUORUM_TRUSTSTORE_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "keystorepassword", "name": "keystorepasswd-zk-2"}}}, {"name": "ZOOKEEPER_SSL_KEYSTORE_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "keystorepassword", "name": "keystorepasswd-zk-2"}}}, {"name": "ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD", "valueFrom": {"secretKeyRef": {"key": "keystorepassword", "name": "keystorepasswd-zk-2"}}}, {"name": "WELCOME_MESSAGE", "value": "The generic Hello World from zookeeper"}, {"name": "ZOOKEEPER_TOOLS_LOG4J_LOGLEVEL", "value": "DEBUG"}, {"name": "ZOOKEEPER_LOG4J_ROOT_LOGLEVEL", "value": "DEBUG"}, {"name": "ZOOKEEPER_CLIENT_PORT", "value": "2181"}, {"name": "ZOOKEEPER_TICK_TIME", "value": "2000"}, {"name": "ZOOKEEPER_SECURE_CLIENT_PORT", "value": "2182"}, {"name": "ZOOKEEPER_SERVER_CNXN_FACTORY", "value": "org.apache.zookeeper.server.NettyServerCnxnFactory"}, {"name": "ZOOKEEPER_SSL_KEYSTORE_LOCATION", "value": "/mnt/keystore.jks"}, {"name": "ZOOKEEPER_SSL_KEYSTORE_TYPE", "value": "JKS"}, {"name": "ZOOKEEPER_SSL_TRUSTSTORE_LOCATION", "value": "/mnt/truststore.jks"}, {"name": "ZOOKEEPER_SSL_TRUSTSTORE_TYPE", "value": "JKS"}, {"name": "ZOOKEEPER_CLIENT_PORT_UNIFICATION", "value": "true"}, {"name": "ZOOKEEPER_SSL_CLIENT_AUTH", "value": "none"}, {"name": "ZOOKEEPER_AUTH_PROVIDER_X509", "value": "org.apache.zookeeper.server.auth.X509AuthenticationProvider"}, {"name": "ZOOKEEPER_AUTH_PROVIDER_SASL", "value": "org.apache.zookeeper.server.auth.SASLAuthenticationProvider"}], "selector": {"matchLabels": {"app": "zk", "podnamerequired": "zk-2"}}, "volumeMounts": [{"mountPath": "/mnt", "name": "keystore"}], "volumes": [{"name": "keystore", "secret": {"secretName": "keystore-zk-2"}}]}}}

-------------------------------------------------------------------------------
{"level":"error","ts":1632562871.1854308,"logger":"logging_event_handler","msg":"","name":"zookeeperset-lab","namespace":"default","gvk":"dataproxy.jankul02/v1alpha1, Kind=ZookeeperSet","event_type":"runner_on_failed","job":"2400108892231527848","EventData.Task":"define zk pod presets","EventData.TaskArgs":"","EventData.FailedTaskPath":"/opt/ansible/roles/zookeeperset/tasks/main.yml:1","error":"[playbook task failed]"}
{"level":"error","ts":1632562871.3808086,"logger":"runner","msg":"ansible-playbook 2.9.19\r\n  config file = /etc/ansible/ansible.cfg\r\n  configured module search path = ['/usr/share/ansible/openshift']\r\n  ansible python module location = /usr/local/lib/python3.8/site-packages/ansible\r\n  executable location = /usr/local/bin/ansible-playbook\r\n  python version = 3.8.3 (default, Aug 18 2020, 08:56:04) [GCC 8.3.1 20191121 (Red Hat 8.3.1-5)]\r\nUsing /etc/ansible/ansible.cfg as config file\r\nSkipping callback 'actionable', as we already have a stdout callback.\nSkipping callback 'awx_display', as we already have a stdout callback.\nSkipping callback 'counter_enabled', as we already have a stdout callback.\nSkipping callback 'debug', as we already have a stdout callback.\nSkipping callback 'dense', as we already have a stdout callback.\nSkipping callback 'dense', as we already have a stdout callback.\nSkipping callback 'full_skip', as we already have a stdout callback.\nSkipping callback 'json', as we already have a stdout callback.\nSkipping callback 'minimal', as we already have a stdout callback.\nSkipping callback 'null', as we already have a stdout callback.\nSkipping callback 'oneline', as we already have a stdout callback.\nSkipping callback 'selective', as we already have a stdout callback.\nSkipping callback 'skippy', as we already have a stdout callback.\nSkipping callback 'stderr', as we already have a stdout callback.\nSkipping callback 'unixy', as we already have a stdout callback.\nSkipping callback 'yaml', as we already have a stdout callback.\n\r\nPLAYBOOK: 0e031ecf66fa4e79ac824bc0408a4826 *************************************\n1 plays in /tmp/ansible-operator/runner/dataproxy.jankul02/v1alpha1/ZookeeperSet/default/zookeeperset-lab/project/0e031ecf66fa4e79ac824bc0408a4826\n\r\nPLAY [localhost] ***************************************************************\nMETA: ran handlers\n\r\nTASK [zookeeperset : define zk pod presets] ************************************\r\ntask path: /opt/ansible/roles/zookeeperset/tasks/main.yml:1\nfailed: [localhost] (item={'id': '0', 'nodeSelector': {'updateOnChange': [{'kind': 'Secret', 'name': 'keystore-zk-0'}], 'zkinstanceid': '0'}, 'spec': {'env': [{'name': 'WELCOME_MESSAGE', 'value': 'HW from zk 0'}, {'name': None, 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-0'}}}, {'name': 'ZOOKEEPER_SSL_KEYSTORE_PASSWORD', 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-0'}}}, {'name': 'ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD', 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-0'}}}], 'volumeMounts': [{'mountPath': '/mnt', 'name': 'keystore'}], 'volumes': [{'name': 'keystore', 'secret': {'secretName': 'keystore-zk-0'}}]}}) => {\"ansible_loop_var\": \"item\", \"changed\": false, \"error\": 422, \"item\": {\"id\": \"0\", \"nodeSelector\": {\"updateOnChange\": [{\"kind\": \"Secret\", \"name\": \"keystore-zk-0\"}], \"zkinstanceid\": \"0\"}, \"spec\": {\"env\": [{\"name\": \"WELCOME_MESSAGE\", \"value\": \"HW from zk 0\"}, {\"name\": null, \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-0\"}}}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-0\"}}}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-0\"}}}], \"volumeMounts\": [{\"mountPath\": \"/mnt\", \"name\": \"keystore\"}], \"volumes\": [{\"name\": \"keystore\", \"secret\": {\"secretName\": \"keystore-zk-0\"}}]}}, \"msg\": \"Failed to create object: b'{\\\"kind\\\":\\\"Status\\\",\\\"apiVersion\\\":\\\"v1\\\",\\\"metadata\\\":{},\\\"status\\\":\\\"Failure\\\",\\\"message\\\":\\\"PodPreset.redhatcop.redhat.io \\\\\\\\\\\"zk-0\\\\\\\\\\\" is invalid: spec.env.name: Required value\\\",\\\"reason\\\":\\\"Invalid\\\",\\\"details\\\":{\\\"name\\\":\\\"zk-0\\\",\\\"group\\\":\\\"redhatcop.redhat.io\\\",\\\"kind\\\":\\\"PodPreset\\\",\\\"causes\\\":[{\\\"reason\\\":\\\"FieldValueRequired\\\",\\\"message\\\":\\\"Required value\\\",\\\"field\\\":\\\"spec.env.name\\\"}]},\\\"code\\\":422}\\\\n'\", \"reason\": \"Unprocessable Entity\", \"status\": 422}\nLabels\": {\".\": {}, \"f:app\": {}, \"f:podnamerequired\": {}}}, \"f:volumeMounts\": {}, \"f:volumes\": {}}}, \"manager\": \"OpenAPI-Generator\", \"operation\": \"Update\", \"time\": \"2021-09-25T09:41:10Z\"}], \"name\": \"zk-1\", \"namespace\": \"default\", \"ownerReferences\": [{\"apiVersion\": \"dataproxy.jankul02/v1alpha1\", \"kind\": \"ZookeeperSet\", \"name\": \"zookeeperset-lab\", \"uid\": \"b257251f-0467-4721-b5be-fce8794ec1e5\"}], \"resourceVersion\": \"454456\", \"uid\": \"0dd133fd-dad2-4560-80ad-baa3bf2aa99c\"}, \"spec\": {\"env\": [{\"name\": \"ZOOKEEPER_SSL_QUORUM_TRUSTSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-1\"}}}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-1\"}}}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-1\"}}}, {\"name\": \"WELCOME_MESSAGE\", \"value\": \"The generic Hello World from zookeeper\"}, {\"name\": \"ZOOKEEPER_TOOLS_LOG4J_LOGLEVEL\", \"value\": \"DEBUG\"}, {\"name\": \"ZOOKEEPER_LOG4J_ROOT_LOGLEVEL\", \"value\": \"DEBUG\"}, {\"name\": \"ZOOKEEPER_CLIENT_PORT\", \"value\": \"2181\"}, {\"name\": \"ZOOKEEPER_TICK_TIME\", \"value\": \"2000\"}, {\"name\": \"ZOOKEEPER_SECURE_CLIENT_PORT\", \"value\": \"2182\"}, {\"name\": \"ZOOKEEPER_SERVER_CNXN_FACTORY\", \"value\": \"org.apache.zookeeper.server.NettyServerCnxnFactory\"}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_LOCATION\", \"value\": \"/mnt/keystore.jks\"}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_TYPE\", \"value\": \"JKS\"}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_LOCATION\", \"value\": \"/mnt/truststore.jks\"}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_TYPE\", \"value\": \"JKS\"}, {\"name\": \"ZOOKEEPER_CLIENT_PORT_UNIFICATION\", \"value\": \"true\"}, {\"name\": \"ZOOKEEPER_SSL_CLIENT_AUTH\", \"value\": \"none\"}, {\"name\": \"ZOOKEEPER_AUTH_PROVIDER_X509\", \"value\": \"org.apache.zookeeper.server.auth.X509AuthenticationProvider\"}, {\"name\": \"ZOOKEEPER_AUTH_PROVIDER_SASL\", \"value\": \"org.apache.zookeeper.server.auth.SASLAuthenticationProvider\"}], \"schanged: [localhost] => (item={'id': '1', 'nodeSelector': {'updateOnChange': [{'kind': 'Secret', 'name': 'keystore-zk-1'}], 'zkinstanceid': '1'}, 'spec': {'env': [{'name': 'ZOOKEEPER_SSL_QUORUM_TRUSTSTORE_PASSWORD', 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-1'}}}, {'name': 'ZOOKEEPER_SSL_KEYSTORE_PASSWORD', 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-1'}}}, {'name': 'ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD', 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-1'}}}], 'volumeMounts': [{'mountPath': '/mnt', 'name': 'keystore'}], 'volumes': [{'name': 'keystore', 'secret': {'secretName': 'keystore-zk-1'}}]}}) => {\"ansible_loop_var\": \"item\", \"changed\": true, \"item\": {\"id\": \"1\", \"nodeSelector\": {\"updateOnChange\": [{\"kind\": \"Secret\", \"name\": \"keystore-zk-1\"}], \"zkinstanceid\": \"1\"}, \"spec\": {\"env\": [{\"name\": \"ZOOKEEPER_SSL_QUORUM_TRUSTSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-1\"}}}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-1\"}}}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-1\"}}}], \"volumeMounts\": [{\"mountPath\": \"/mnt\", \"name\": \"keystore\"}], \"volumes\": [{\"name\": \"keystore\", \"secret\": {\"secretName\": \"keystore-zk-1\"}}]}}, \"method\": \"create\", \"result\": {\"apiVersion\": \"redhatcop.redhat.io/v1alpha1\", \"kind\": \"PodPreset\", \"metadata\": {\"creationTimestamp\": \"2021-09-25T09:41:10Z\", \"generation\": 1, \"managedFields\": [{\"apiVersion\": \"redhatcop.redhat.io/v1alpha1\", \"fieldsType\": \"FieldsV1\", \"fieldsV1\": {\"f:metadata\": {\"f:ownerReferences\": {\".\": {}, \"k:{\\\"uid\\\":\\\"b257251f-0467-4721-b5be-fce8794ec1e5\\\"}\": {}}}, \"f:spec\": {\".\": {}, \"f:env\": {}, \"f:selector\": {\".\": {}, \"f:matchLabels\": {\".\": {}, \"f:app\": {}, \"f:podnamerequired\": {}}}, \"f:volumeMounts\": {}, \"f:volumes\": {}}}, \"manager\": \"OpenAPI-Generator\", \"operation\": \"Update\", \"time\": \"2021-09-25T09:41:10Z\"}], \"name\": \"zk-1\", \"namespace\": \"default\", \"ownerReferences\": [{\"apiVersion\": \"dataproxy.jankul02/v1alpha1\", \"kind\": \"ZookeeperSet\", \"name\": \"zookeeperset-lab\", \"uid\": \"b257251f-0467-4721-b5be-fce8794ec1e5\"}], \"resourceVersion\": \"454456\", \"uid\": \"0dd133fd-dad2-4560-80ad-baa3bf2aa99c\"}, \"spec\": {\"env\": [{\"name\": \"ZOOKEEPER_SSL_QUORUM_TRUSTSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-1\"}}}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-1\"}}}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-1\"}}}, {\"name\": \"WELCOME_MESSAGE\", \"value\": \"The generic Hello World from zookeeper\"}, {\"name\": \"ZOOKEEPER_TOOLS_LOG4J_LOGLEVEL\", \"value\": \"DEBUG\"}, {\"name\": \"ZOOKEEPER_LOG4J_ROOT_LOGLEVEL\", \"value\": \"DEBUG\"}, {\"name\": \"ZOOKEEPER_CLIENT_PORT\", \"value\": \"2181\"}, {\"name\": \"ZOOKEEPER_TICK_TIME\", \"value\": \"2000\"}, {\"name\": \"ZOOKEEPER_SECURE_CLIENT_PORT\", \"value\": \"2182\"}, {\"name\": \"ZOOKEEPER_SERVER_CNXN_FACTORY\", \"value\": \"org.apache.zookeeper.server.NettyServerCnxnFactory\"}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_LOCATION\", \"value\": \"/mnt/keystore.jks\"}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_TYPE\", \"value\": \"JKS\"}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_LOCATION\", \"value\": \"/mnt/truststore.jks\"}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_TYPE\", \"value\": \"JKS\"}, {\"name\": \"ZOOKEEPER_CLIENT_PORT_UNIFICATION\", \"value\": \"true\"}, {\"name\": \"ZOOKEEPER_SSL_CLIENT_AUTH\", \"value\": \"none\"}, {\"name\": \"ZOOKEEPER_AUTH_PROVIDER_X509\", \"value\": \"org.apache.zookeeper.server.auth.X509AuthenticationProvider\"}, {\"name\": \"ZOOKEEPER_AUTH_PROVIDER_SASL\", \"value\": \"org.apache.zookeeper.server.auth.SASLAuthenticationProvider\"}], \"selector\": {\"matchLabels\": {\"app\": \"zk\", \"podnamerequired\": \"zk-1\"}}, \"volumeMounts\": [{\"mountPath\": \"/mnt\", \"name\": \"keystore\"}], \"volumes\": [{\"name\": \"keystore\", \"secret\": {\"secretName\": \"keystore-zk-1\"}}]}}}\n51f-0467-4721-b5be-fce8794ec1e5\\\"}\": {}}}, \"f:spec\": {\".\": {}, \"f:env\": {}, \"f:selector\": {\".\": {}, \"f:matchLabels\": {\".\": {}, \"f:app\": {}, \"f:podnamerequired\": {}}}, \"f:volumeMounts\": {}, \"f:volumes\": {}}}, \"manager\": \"OpenAPI-Generator\", \"operation\": \"Update\", \"time\": \"2021-09-25T09:41:11Z\"}], \"name\": \"zk-2\", \"namespace\": \"default\", \"ownerReferences\": [{\"apiVersion\": \"dataproxy.jankul02/v1alpha1\", \"kind\": \"ZookeeperSet\", \"name\": \"zookeeperset-lab\", \"uid\": \"b257251f-0467-4721-b5be-fce8794ec1e5\"}], \"resourceVersion\": \"454457\", \"uid\": \"72818481-8d54-4c22-95b5-9cc39995ccd7\"}, \"spec\": {\"env\": [{\"name\": \"WELCOME_MESSAGE\", \"value\": \"HW from zk 2\"}, {\"name\": \"ZOOKEEPER_SSL_QUORUM_TRUSTSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-2\"}}}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-2\"}}}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-2\"}}}, {\"name\": \"WELCOME_MESSAGE\", \"value\": \"The generic Hello World from zookeeper\"}, {\"name\": \"ZOOKEEPER_TOOLS_LOG4J_LOGLEVEL\", \"value\": \"DEBUG\"}, {\"name\": \"ZOOKEEPER_LOG4J_ROOT_LOGLEVEL\", \"value\": \"DEBUG\"}, {\"name\": \"ZOOKEEPER_CLIENT_PORT\", \"value\": \"2181\"}, {\"name\": \"ZOOKEEPER_TICK_TIME\", \"value\": \"2000\"}, {\"name\": \"ZOOKEEPER_SECURE_CLIENT_PORT\", \"value\": \"2182\"}, {\"name\": \"ZOOKEEPER_SERVER_CNXN_FACTORY\", \"value\": \"org.apache.zookeeper.server.NettyServerCnxnFactory\"}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_LOCATION\", \"value\": \"/mnt/keystore.jks\"}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_TYPE\", \"value\": \"JKS\"}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_LOCATION\", \"value\": \"/mnt/truststore.jks\"}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_TYPE\", \"value\": \"JKS\"}, {\"name\": \"ZOOKEEPER_CLIENT_PORT_UNIFICATION\", \"value\": \"true\"}, {\"name\": \"ZOOKEEPER_SSL_CLIENT_AUTH\", \"value\": \"none\"}, {\"name\": \"ZOOKEEPER_AUTH_PROVIDER_X509\", \"value\": \"org.apache.zookeepchanged: [localhost] => (item={'id': '2', 'nodeSelector': {'updateOnChange': [{'kind': 'Secret', 'name': 'keystore-zk-2'}], 'zkinstanceid': '2'}, 'spec': {'env': [{'name': 'WELCOME_MESSAGE', 'value': 'HW from zk 2'}, {'name': 'ZOOKEEPER_SSL_QUORUM_TRUSTSTORE_PASSWORD', 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-2'}}}, {'name': 'ZOOKEEPER_SSL_KEYSTORE_PASSWORD', 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-2'}}}, {'name': 'ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD', 'valueFrom': {'secretKeyRef': {'key': 'keystorepassword', 'name': 'keystorepasswd-zk-2'}}}], 'volumeMounts': [{'mountPath': '/mnt', 'name': 'keystore'}], 'volumes': [{'name': 'keystore', 'secret': {'secretName': 'keystore-zk-2'}}]}}) => {\"ansible_loop_var\": \"item\", \"changed\": true, \"item\": {\"id\": \"2\", \"nodeSelector\": {\"updateOnChange\": [{\"kind\": \"Secret\", \"name\": \"keystore-zk-2\"}], \"zkinstanceid\": \"2\"}, \"spec\": {\"env\": [{\"name\": \"WELCOME_MESSAGE\", \"value\": \"HW from zk 2\"}, {\"name\": \"ZOOKEEPER_SSL_QUORUM_TRUSTSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-2\"}}}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-2\"}}}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-2\"}}}], \"volumeMounts\": [{\"mountPath\": \"/mnt\", \"name\": \"keystore\"}], \"volumes\": [{\"name\": \"keystore\", \"secret\": {\"secretName\": \"keystore-zk-2\"}}]}}, \"method\": \"create\", \"result\": {\"apiVersion\": \"redhatcop.redhat.io/v1alpha1\", \"kind\": \"PodPreset\", \"metadata\": {\"creationTimestamp\": \"2021-09-25T09:41:11Z\", \"generation\": 1, \"managedFields\": [{\"apiVersion\": \"redhatcop.redhat.io/v1alpha1\", \"fieldsType\": \"FieldsV1\", \"fieldsV1\": {\"f:metadata\": {\"f:ownerReferences\": {\".\": {}, \"k:{\\\"uid\\\":\\\"b257251f-0467-4721-b5be-fce8794ec1e5\\\"}\": {}}}, \"f:spec\": {\".\": {}, \"f:env\": {}, \"f:selector\": {\".\": {}, \"f:matchLabels\": {\".\": {}, \"f:app\": {}, \"f:podnamerequired\": {}}}, \"f:volumeMounts\": {}, \"f:volumes\": {}}}, \"manager\": \"OpenAPI-Generator\", \"operation\": \"Update\", \"time\": \"2021-09-25T09:41:11Z\"}], \"name\": \"zk-2\", \"namespace\": \"default\", \"ownerReferences\": [{\"apiVersion\": \"dataproxy.jankul02/v1alpha1\", \"kind\": \"ZookeeperSet\", \"name\": \"zookeeperset-lab\", \"uid\": \"b257251f-0467-4721-b5be-fce8794ec1e5\"}], \"resourceVersion\": \"454457\", \"uid\": \"72818481-8d54-4c22-95b5-9cc39995ccd7\"}, \"spec\": {\"env\": [{\"name\": \"WELCOME_MESSAGE\", \"value\": \"HW from zk 2\"}, {\"name\": \"ZOOKEEPER_SSL_QUORUM_TRUSTSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-2\"}}}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-2\"}}}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_PASSWORD\", \"valueFrom\": {\"secretKeyRef\": {\"key\": \"keystorepassword\", \"name\": \"keystorepasswd-zk-2\"}}}, {\"name\": \"WELCOME_MESSAGE\", \"value\": \"The generic Hello World from zookeeper\"}, {\"name\": \"ZOOKEEPER_TOOLS_LOG4J_LOGLEVEL\", \"value\": \"DEBUG\"}, {\"name\": \"ZOOKEEPER_LOG4J_ROOT_LOGLEVEL\", \"value\": \"DEBUG\"}, {\"name\": \"ZOOKEEPER_CLIENT_PORT\", \"value\": \"2181\"}, {\"name\": \"ZOOKEEPER_TICK_TIME\", \"value\": \"2000\"}, {\"name\": \"ZOOKEEPER_SECURE_CLIENT_PORT\", \"value\": \"2182\"}, {\"name\": \"ZOOKEEPER_SERVER_CNXN_FACTORY\", \"value\": \"org.apache.zookeeper.server.NettyServerCnxnFactory\"}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_LOCATION\", \"value\": \"/mnt/keystore.jks\"}, {\"name\": \"ZOOKEEPER_SSL_KEYSTORE_TYPE\", \"value\": \"JKS\"}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_LOCATION\", \"value\": \"/mnt/truststore.jks\"}, {\"name\": \"ZOOKEEPER_SSL_TRUSTSTORE_TYPE\", \"value\": \"JKS\"}, {\"name\": \"ZOOKEEPER_CLIENT_PORT_UNIFICATION\", \"value\": \"true\"}, {\"name\": \"ZOOKEEPER_SSL_CLIENT_AUTH\", \"value\": \"none\"}, {\"name\": \"ZOOKEEPER_AUTH_PROVIDER_X509\", \"value\": \"org.apache.zookeeper.server.auth.X509AuthenticationProvider\"}, {\"name\": \"ZOOKEEPER_AUTH_PROVIDER_SASL\", \"value\": \"org.apache.zookeeper.server.auth.SASLAuthenticationProvider\"}], \"selector\": {\"matchLabels\": {\"app\": \"zk\", \"podnamerequired\": \"zk-2\"}}, \"volumeMounts\": [{\"mountPath\": \"/mnt\", \"name\": \"keystore\"}], \"volumes\": [{\"name\": \"keystore\", \"secret\": {\"secretName\": \"keystore-zk-2\"}}]}}}\n\r\nPLAY RECAP *********************************************************************\r\nlocalhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   \r\n\n","job":"2400108892231527848","name":"zookeeperset-lab","namespace":"default","error":"exit status 2"}

----- Ansible Task Status Event StdOut (dataproxy.jankul02/v1alpha1, Kind=ZookeeperSet, zookeeperset-lab/default) -----


PLAY RECAP *********************************************************************
localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   


----------
{"level":"error","ts":1632562871.3969133,"logger":"controller-runtime.manager.controller.zookeeperset-controller","msg":"Reconciler error","name":"zookeeperset-lab","namespace":"default","error":"event runner on failed","stacktrace":"sigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).processNextWorkItem\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.9.2/pkg/internal/controller/controller.go:253\nsigs.k8s.io/controller-runtime/pkg/internal/controller.(*Controller).Start.func2.2\n\t/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.9.2/pkg/internal/controller/controller.go:214"}
{"level":"info","ts":1632562872.6840491,"logger":"logging_event_handler","msg":"[playbook task start]","name":"zookeeperset-lab","namespace":"default","gvk":"dataproxy.jankul02/v1alpha1, Kind=ZookeeperSet","event_type":"playbook_on_task_start","job":"8061511396154806073","EventData.Name":"zookeeperset : define zk pod presets"}

--------------------------- Ansible Task StdOut -------------------------------

TASK [zookeeperset : define zk pod presets] ************************************
task path: /opt/ansible/roles/zookeeperset/tasks/main.yml:1

-------------------------------------------------------------------------------
